# Chapter 1 - Refactoring: 첫 번째 예시

JavaScript 기반 공연료 청구서 출력

## 1. 예시 프로그램을 본 소감

* 프로그램이 새로운 기능을 추가하기에 편한 구조가 아니라면, 먼저 기능을 추가하기 쉬운 형태로 refactoring하고 나서 원하는 기능을 추가한다.

## 2. Refactoring의 첫 단계

* Refactoring 하기 전에 제대로 된 test부터 마련한다. test는 반드시 자가진단하도록 한다.

## 3. statement() 함수 쪼개기

* statement()처럼 긴 함수를 refactoring 할때는 전체 동작을 각각의 부분으로 나눌 수 있는 지점을 찾는다
* 함수 추출하기 적용 (흔히 IDE에서 자동으로 수행)
* 변수의 이름을 변경(thisAmount -> result)하여 명확하게 해 변수의 역할을 쉽게 알 수 있도록 한다
* javascript와 같은 동적 언어를 사용할 때 타입이 드러나게 작성하면 도움되는데 매개변수 이름에 접두어로 타입 이름을 적는다. 매개변수 역할이 명확하지 않을 때 부정관사(a/an)를 붙인다
```
  컴퓨터가 이해하는 코드는 바보도 작성할 수 있으니 사람이 이해하도록 코드를 작성하는 포로그래머가 진정한 실력자다
```
* play 변수 제거하기 : 임시 변수를 질의 함수로 변경하기 (play => playFor())